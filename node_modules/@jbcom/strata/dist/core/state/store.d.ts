/**
 * Zustand-based Game State Store Factory
 *
 * Creates a Zustand store with Immer for immutable updates, zundo for undo/redo,
 * and configurable persistence adapter for cross-platform storage.
 *
 * @module core/state/store
 * @public
 */
import { type TemporalState } from 'zundo';
import { type StoreApi } from 'zustand';
import type { CheckpointData, CheckpointOptions, PersistenceAdapter, StoreConfig } from './types';
/**
 * Internal store state shape
 */
export interface GameStoreState<T> {
    data: T;
    _initial: T;
    _version: number;
    _lastSaved: number | null;
    _isDirty: boolean;
}
/**
 * Store actions interface
 */
export interface GameStoreActions<T> {
    set: (newState: T | ((prev: T) => T)) => void;
    patch: (partial: Partial<T> | ((prev: T) => Partial<T>)) => void;
    reset: () => void;
    undo: () => void;
    redo: () => void;
    canUndo: () => boolean;
    canRedo: () => boolean;
    clearHistory: () => void;
    save: (slot?: string) => Promise<boolean>;
    load: (slot?: string) => Promise<boolean>;
    deleteSave: (slot: string) => Promise<boolean>;
    listSaves: () => Promise<string[]>;
    createCheckpoint: (name: string, options?: CheckpointOptions) => Promise<boolean>;
    restoreCheckpoint: (name: string) => Promise<boolean>;
    deleteCheckpoint: (name: string) => Promise<boolean>;
    listCheckpoints: () => CheckpointData<T>[];
    getData: () => T;
}
/**
 * Complete store type
 */
export type GameStore<T> = GameStoreState<T> & GameStoreActions<T>;
/**
 * Store API with temporal state access
 */
export interface GameStoreApi<T> {
    (): GameStore<T>;
    <U>(selector: (state: GameStore<T>) => U): U;
    getState: () => GameStore<T>;
    setState: StoreApi<GameStore<T>>['setState'];
    subscribe: StoreApi<GameStore<T>>['subscribe'];
    temporal: StoreApi<TemporalState<GameStore<T>>>;
}
/**
 * Creates a Zustand store with undo/redo and persistence capabilities.
 *
 * @public
 * @param initialState - The initial state value
 * @param config - Optional configuration
 * @returns A Zustand store with game state management features
 *
 * @example
 * ```typescript
 * interface PlayerState {
 *   health: number;
 *   position: [number, number, number];
 *   inventory: string[];
 * }
 *
 * const usePlayerStore = createGameStore<PlayerState>({
 *   health: 100,
 *   position: [0, 0, 0],
 *   inventory: [],
 * });
 *
 * // In a React component
 * const health = usePlayerStore(state => state.data.health);
 * const { set, undo, redo, save, load } = usePlayerStore();
 *
 * // Update state
 * set({ health: 50 });
 *
 * // Undo last change
 * undo();
 *
 * // Save to storage
 * await save('slot1');
 * ```
 */
export declare function createGameStore<T extends object>(initialState: T, config?: StoreConfig<T>): GameStoreApi<T>;
/**
 * Creates a persistence adapter from a custom implementation.
 *
 * @public
 * @param adapter - Custom adapter implementing PersistenceAdapter interface
 * @returns The validated adapter
 *
 * @example
 * ```typescript
 * const customAdapter = createPersistenceAdapter({
 *   save: async (key, data) => { ... },
 *   load: async (key) => { ... },
 *   delete: async (key) => { ... },
 *   listSaves: async (prefix) => { ... },
 *   getSaveInfo: async (key) => { ... },
 * });
 * ```
 */
export declare function createPersistenceAdapter(adapter: PersistenceAdapter): PersistenceAdapter;
//# sourceMappingURL=store.d.ts.map